!function(){"use strict";var e,t,n="http://localhost:3000",i={device:""};window.onYouTubeIframeAPIReady=function(){e=new YT.Player("player",{height:o.setSize("height"),width:o.setSize("width"),videoId:room.playlist[room.playlist_number].id,playerVars:{start:room.video_start_time,playsinline:1,autoplay:1,controls:1,enablejsapi:1,modestbranding:1,iv_load_policy:3,rel:0},events:{onReady:o.onReady,onStateChange:o.onStateChange}})};var o={setSize:function(e){var t=[16,9],n=window.innerWidth>1024?window.innerWidth/1.6:window.innerWidth;return"width"===e?n:n/t[0]*t[1]},onReady:function(e){o.setVolume(e.target.getVolume()),e.target.playVideo(),document.getElementById("video_title").textContent=room.playlist[room.playlist_number].title,t=setInterval((function(){var t=e.target.getCurrentTime(),n=room.playlist[room.playlist_number].duration;document.getElementById("seekbar").value=t/n*1e3,document.getElementById("now").textContent=o.getTime(t),document.getElementById("total").textContent=" / ".concat(o.getTime(n))}),1e3)},onStateChange:function(e){switch(e.data){case-1:case 1:case 2:case 3:break;case 0:clearInterval(t)}},onReceiveButtonEvents:function(t){switch(t){case"play":e.playVideo();break;case"pause":e.pauseVideo()}console.log(t)},setVolume:function(t){isNaN(t)&&(t=t.currentTarget.value),e.setVolume(t),document.getElementById("volume").value=t},setMute:function(){var t=document.getElementById("volume");e.isMuted()?(e.unMute(),t.value=e.getVolume()):(e.mute(),t.value=0)},getTime:function(e){var t=~~(e/60/60),n=~~(e/60)%60,i="00".concat(~~(e%60)).slice(-2),o="".concat(n,":").concat(i);return 0!==t&&(o="".concat(t,":").concat(o)),o}};window.onresize=function(){return e.setSize(o.setSize("width"),o.setSize("height"))},io("".concat(n,"/io_time"));var a=io("".concat(n,"/io_set"));a.on("playerButton",o.onReceiveButtonEvents);var l=function(t){var n,i,o=t.currentTarget.id;"play_pause"===o&&(o=1===e.getPlayerState()?"pause":"play"),n="playerButton",i=o,a.emit(n,i),console.log("[socket] send data")};console.log(room),function(){var e,t=document.getElementsByClassName("playlist_list")[0];t.innerHTML="";for(var n=0;n<room.playlist.length;n++)e='<li class="playlist_item">\n                <div class="playlist_item_number">'.concat(n+1,'</div>\n                <a class="playlist_item_thumbnail" title="YouTubeで見る" href="https://youtu.be/').concat(room.playlist[n].id,'" target="_blank">\n                    <img src=').concat(room.playlist[n].thumbnail,'>\n                </a>\n                <div class="playlist_item_caption">\n                    <div class="playlist_item_title">').concat(room.playlist[n].title,'</div>\n                    <div class="playlist_item_channel">').concat(room.playlist[n].channel,'</div>\n                </div>\n                <div class="buttons">\n                    <button id="playlist_delete" onclick="button(\'delete\', \'').concat(room.playlist[n],'\')">\n                        <svg width="20" hight="20" viewBox="0 0 512 512"><use xlink:href="/img/graphics.svg#delete"></use></svg>\n                    </button>\n                </div>\n            </li>'),t.insertAdjacentHTML("beforeend",e);var i=document.getElementsByClassName("playlist_item")[room.playlist_number];i.children[0].innerHTML='<svg width="10" hight="10" viewBox="0 0 448 512"><use xlink:href="/img/graphics.svg#play"></use></svg>',i.children[0].style.fill="#606060",i.style.background="#d8d8d8"}(),navigator.userAgent.match(/(iPhone|iPad|iPod|Android|Mobile)/i)?(document.getElementById("pop_input").blur(),document.getElementsByClassName("volume")[0].style.display="none",document.getElementsByClassName("video_time")[0].style.display="none",i.device="mobile"):i.device="pc",function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),document.getElementById("previous").addEventListener("click",l),document.getElementById("play_pause").addEventListener("click",l),document.getElementById("next").addEventListener("click",l),document.getElementById("mute").addEventListener("click",o.setMute),document.getElementById("volume").addEventListener("click",o.setVolume)}();